/*!CK:3905294909!*//*1446436750,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["NxpxU"]); }

__d("MercuryActionStatus",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={UNSENT:0,SUCCESS:1,UNCONFIRMED:3,FAILED_UNKNOWN_REASON:4,UNABLE_TO_CONFIRM:5,RESENT:6,RESENDING:7,ERROR:10};},null,{});
__d("MercuryActionType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={LOG_MESSAGE:"ma-type:log-message",USER_GENERATED_MESSAGE:"ma-type:user-generated-message",CHANGE_READ_STATUS:"ma-type:change_read_status",MARK_THREAD_SEEN:"ma-type:mark_thread_seen",CHANGE_MUTE_SETTINGS:"ma-type:change-mute-settings",SEND_MESSAGE:"ma-type:send-message",UPDATE_ACTION_ID:"ma-type:update-action-id",DELETE_MESSAGES:"ma-type:delete-messages",DELETE_THREAD:"ma-type:delete-thread",UPDATE_SNIPPET:"ma-type:update-snippet",CHANGE_ARCHIVED_STATUS:"ma-type:change-archived-status",CHANGE_FOLDER:"ma-type:change-folder",ADD_PARTICIPANTS:"ma-type:add-participants",CANCEL_ATTACHMENT_PLACEHOLDER:"ma-type:cancel-attachment-placeholder",CONFIRM_ATTACHMENT_PLACEHOLDER:"ma-type:confirm-attachment-placeholder",UNPIN_THREAD:"ma-type:unpin-thread",CHANGE_FLAG:"ma-type:change_flag",MOVE_PENDING_TO_INBOX:"ma-type:move_pending_to_inbox",UPDATE_BLOCKER_STATUS:"ma-type:update-blocker-status",UPDATE_BLOCKEE_STATUS:"ma-type:update-blockee-status",CREATE_PAGE_ADMIN_NOTE:"ma-type:create-page-admin-note",REPLACE_MESSAGE:"ma-type:replace-message"};},null,{});
__d("MercuryAPIArgsSource",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CHAT:"chat",JEWEL:"jewel",MERCURY:"mercury",MERCURYSYNC:"mercury_sync",WEBMESSENGER:"web_messenger",MESSENGER:"messenger"};},null,{});
__d("MercuryAttachmentContentType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PHOTO:"attach:image",VIDEO:"attach:video",MUSIC:"attach:music",VOICE:"attach:voice",TEXT:"attach:text",MSWORD:"attach:ms:word",MSXLS:"attach:ms:xls",MSPPT:"attach:ms:ppt",ORION:"attach:orion",SHOERACK_INVITATION:"attach:shoerackinvite",UNKNOWN:"attach:unknown"};},null,{});
__d("MercuryAttachmentType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ERROR:"error",FILE:"file",PHOTO:"photo",STICKER:"sticker",SHARE:"share",UNKNOWN:"unknown",VIDEO:"video",ANIMATED_IMAGE:"animated_image"};},null,{});
__d("MercuryErrorType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SERVER:1,TRANSPORT:2,TIMEOUT:3};},null,{});
__d("MercuryGlobalActionType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MARK_ALL_READ:"mga-type:mark-all-read"};},null,{});
__d("MercuryLogMessageType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SUBSCRIBE:"log:subscribe",UNSUBSCRIBE:"log:unsubscribe",VIDEO_CALL:"log:video-call",PHONE_CALL:"log:phone-call",THREAD_NAME:"log:thread-name",THREAD_IMAGE:"log:thread-image",SERVER_ERROR:"log:error-msg",LIVE_LISTEN:"log:live-listen",WALLPAPER:"log:wallpaper",ORION:"log:orion",SWITCH_TO_WORK:"log:switch",PAGE_REPLY:"log:page-reply",GENERIC_ADMIN_TEXT:"log:generic-admin-text"};},null,{});
__d("MercuryMessageSourceTags",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CHAT:"source:chat",EMAIL:"source:email",MESSENGER:"source:messenger",MOBILE:"source:mobile",WORK_CHAT:"source:work_chat"};},null,{});
__d("MercuryParticipantTypes",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={USER:"user",THREAD:"thread",EVENT:"event",PAGE:"page",FRIEND:"friend",FB4C:"fb4c",NON_FRIEND:"non_friend"};},null,{});
__d("MercuryPayloadSource",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={UNKNOWN:"unknown",CLIENT_CHANNEL_MESSAGE:"client_channel_message",CLIENT_SEND_MESSAGE:"client_send_message",CLIENT_CHANGE_ARCHIVED_STATUS:"client_change-archived_status",CLIENT_CHANGE_FOLDER:"client_change_folder",CLIENT_CHANGE_MUTE_SETTINGS:"client_change_mute_settings",CLIENT_CHANGE_READ_STATUS:"client_change_read_status",CLIENT_MARK_THREAD_SEEN:"client_mark_thread_seen",CLIENT_ADD_PARTICIPANTS:"client_add_participants",CLIENT_FETCH_PARTICIPANTS:"client_fetch_participants",CLIENT_DELETE_MESSAGES:"client_delete_messages",CLIENT_DELETE_THREAD:"client_delete_thread",CLIENT_UPDATE_SNIPPET:"client_update_snippet",CLIENT_HANDLE_ERROR:"client_handle_error",CLIENT_UNPIN_THREAD:"client_unpin_thread",CLIENT_CHANGE_FLAG:"client_change_flag",CLIENT_MOVE_PENDING_TO_INBOX:"client_move_pending_to_inbox",CLIENT_CREATE_PAGE_ADMIN_NOTE:"client_create_page_admin_note",SERVER_INITIAL_DATA:"server_initial_data",SERVER_SEND_MESSAGE:"server_send_message",SERVER_CHANGE_ARCHIVED_STATUS:"server_change_archived_status",SERVER_CHANGE_READ_STATUS:"server_change_read_status",SERVER_MARK_FOLDER_READ:"server_mark_folder_read",SERVER_MARK_SEEN:"server_mark_seen",SERVER_FETCH_PARTICIPANTS:"server_fetch_participants",SERVER_FETCH_THREAD_INFO:"server_fetch_thread_info",SERVER_FETCH_THREADLIST_INFO:"server_fetch_threadlist_info",SERVER_STANDALONE_NOTIFICATIONS:"server_standalone_notifications",SERVER_THREAD_SYNC:"server_thread_sync",SERVER_TAB_PRESENCE:"server_tab_presence",SERVER_UNREAD_THREADS:"server_unread_threads",SERVER_SEARCH:"server_search",SERVER_CHANGE_FLAG:"server_change_flag"};},null,{});
__d("MercurySourceType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CHAT_ORCA:"source:chat:orca",CHAT_IPHONE:"source:chat:iphone",CHAT_JABBER:"source:chat:jabber",CHAT_MEEBO:"source:chat:meebo",CHAT_WEB:"source:chat:web",CHAT_TEST:"source:chat:test",CHAT_FORWARD_DIALOG:"source:chat:forward",CHAT:"source:chat",EMAIL:"source:email",EVENT_MESSAGE_BLAST:"source:event_message_blast",GIGABOXX_API:"source:gigaboxx:api",GIGABOXX_BLAST:"source:gigaboxx:blast",GIGABOXX_EMAIL_REPLY:"source:gigaboxx:emailreply",GIGABOXX_MOBILE:"source:gigaboxx:mobile",GIGABOXX_WAP:"source:gigaboxx:wap",GIGABOXX_WEB:"source:gigaboxx:web",LEIA:"source:leia",MESSENGER_WEB:"source:messenger:web",SAM_UFI:"source:sam:ufi",SHARE_DIALOG:"source:share:dialog",SEND_PLUGIN:"source:sendplugin",SMS:"source:sms",TEST:"source:test",TITAN_WAP:"source:titan:wap",TITAN_M_BASIC:"source:titan:m_basic",TITAN_M_FREE:"source:titan:m_free_basic",TITAN_M_JAPAN:"source:titan:m_japan",TITAN_M_MINI:"source:titan:m_mini",TITAN_M_TOUCH:"source:titan:m_touch",TITAN_M_APP:"source:titan:m_app",TITAN_M_TABLET:"source:titan:m_tablet",TITAN_M_ZERO:"source:titan:m_zero",TITAN_M_TALK:"source:titan:m_talk",TITAN_WEB:"source:titan:web",TITAN_FACEWEB_ANDROID:"source:titan:faceweb_android",TITAN_FACEWEB_BUFFY:"source:titan:faceweb_buffy",TITAN_FACEWEB_IPAD:"source:titan:faceweb_ipad",TITAN_FACEWEB_IPHONE:"source:titan:faceweb_iphone",TITAN_FACEWEB_UNKNOWN:"source:titan:faceweb_unknown",TITAN_API:"source:titan:api",TITAN_API_MOBILE:"source:titan:api_mobile",TITAN_ORCA:"source:titan:orca",TITAN_EMAIL_REPLY:"source:titan:emailreply",MOBILE:"source:mobile",PAGE_PLATFORM_API:"source:page_platform_api",UNKNOWN:"source:unknown",WEB:"source:web",HELPCENTER:"source:helpcenter",NEW_SHARE_DIALOG:"source:share:dialog:new",PAID_PROMOTION:"source:paid_promotion",BUFFY_SMS:"source:buffy:sms",WEBRTC_MOBILE:"source:webrtc:mobile",MESSENGER_COMMERCE:"source:messenger:commerce",MESSENGER_BOT:"source:bot",PAGES_PRIVATE_REPLY:"source:pages:private_reply",MESSENGER_FORWARD_DIALOG:"source:messenger:forward"};},null,{});
__d("MercuryTimePassed",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={TODAY:0,WEEK_AGO:1,MONTH_AGO:2,CURRENT_YEAR:3,OTHER_YEAR:4};},null,{});
__d("MessagingEvent",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={DELETE:"delete",DELETE_MESSAGES:"delete_messages",DELIVER:"deliver",ERROR:"error",READ:"read",REPORT_SPAM:"report_spam",REPORT_SPAM_MESSAGES:"report_spam_messages",UNMARK_SPAM:"unmark_spam",SUBSCRIBE:"subscribe",CHANGE_MUTE_SETTINGS:"change_mute_settings",TAG:"tag",UNREAD:"unread",UNSUBSCRIBE:"unsubscribe",DELIVER_LOG:"deliver_log",MORE_THREADS:"more_threads",READ_ALL:"read_all",READ_RECEIPT:"read_receipt",DELIVERY_RECEIPT:"delivery_receipt",SENT_PUSH:"sent_push",DELIVER_FAST_PAST:"deliver_fast_path",MESSENGER_STATUS:"messenger_status",UPDATE_PINNED_THREADS:"update_pinned_threads",CHANGE_PAGE_THREAD_FLAG:"change_page_thread_flag",UPDATE_BLOCKER_STATUS:"update_blocker_status",UPDATE_BLOCKEE_STATUS:"update_blockee_status",CREATE_PAGE_ADMIN_NOTE:"create_page_admin_note",NO_OP:"no_op"};},null,{});
__d("MessagingRealtimeConstants",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={VIEWER_FBID:"realtime_viewer_fbid"};},null,{});
__d("MessagingTag",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={GROUPS:"groups",UNREAD:"unread",FLAGGED:"flagged",ACTION_ARCHIVED:"action:archived",INBOX:"inbox",OTHER:"other",PENDING:"pending",MONTAGE:"montage",EVENT:"event",SENT:"sent",SMS_MUTE:"sms_mute",SPAM:"spam",UPDATES:"broadcasts_inbox",BCC:"header:bcc",FILTERED_CONTENT:"filtered_content",FILTERED_CONTENT_BH:"filtered_content_bh",FILTERED_CONTENT_ACCOUNT:"filtered_content_account",FILTERED_CONTENT_QUASAR:"filtered_content_quasar",FILTERED_CONTENT_INVALID_APP:"filtered_content_invalid_app",UNAVAILABLE_ATTACHMENT:"unavailable_attachment",ARCHIVED:"archived",EMAIL:"email",VOICEMAIL:"voicemail",SPAM_SPOOFING:"spam:spoofing",SPOOF_WARNING:"MTA:spoof_warning",SMS_TAG_ROOT:"SMSShortcode:",APP_ID_ROOT:"app_id:",DOMAIN_AUTH_PASS:"MTA:dmarc:pass",DOMAIN_AUTH_FAIL:"MTA:dmarc:fail",MTA_SYSTEM_MESSAGE:"MTA:system_message",EMAIL_MESSAGE:"source:email"};},null,{});
__d("SyncRequestStatusEnum",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PENDING:0,ACCEPTED:1,REJECTED:2,EXPIRED:3,CANCELED:4,namesByValue:["PENDING","ACCEPTED","REJECTED","EXPIRED","CANCELED"]};},null,{});
__d('EgoAdsObjectSet',['DOM','csx'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(){'use strict';this._allEgoUnits=[];this._egoUnits=[];}j.prototype.init=function(l){'use strict';this._allEgoUnits=l;this._egoUnits=[];this._allEgoUnits.forEach(function(m){var n=k(m);if(!n||!n.holdout)this._egoUnits.push(m);},this);};j.prototype.getCount=function(){'use strict';return this._egoUnits.length;};j.prototype.forEach=function(l,m){'use strict';this._egoUnits.forEach(l,m);};j.prototype.getUnit=function(l){'use strict';return this._egoUnits[l];};j.prototype.getHoldoutAdIDsForSpace=function(l,m){'use strict';if(!l||!m)return [];var n=[];for(var o=0;l>0&&o<this._allEgoUnits.length;o++){var p=this._allEgoUnits[o],q=m(p),r=k(p);if(l>=q&&r&&r.holdout)n.push(r.adid);l-=q;}return n;};j.prototype.getHoldoutAdIDsForNumAds=function(l){'use strict';l=Math.min(l,this._allEgoUnits.length);var m=[];for(var n=0;n<l;n++){var o=this._allEgoUnits[n],p=k(o);if(p&&p.holdout)m.push(p.adid);}return m;};function k(l){var m=h.scry(l,"div._4u8")[0],n=m&&m.getAttribute('data-ad');return n&&JSON.parse(n)||undefined;}f.exports=j;},null);
__d('rayInterceptsBox',['invariant'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(k,l){var m=Object.keys(k);l.forEach(function(n){!(m.indexOf(n)!==-1)?h(0):undefined;!(typeof k[n]==='number')?h(0):undefined;});}var j={check:function(k,l){i(k,['minX','maxX','minY','maxY']);i(l,['x','y','dx','dy']);!(k.maxX>k.minX&&k.maxY>k.minY)?h(0):undefined;if(l.dx===0&&l.dy===0)return false;if(l.x>=k.minX&&l.x<=k.maxX&&l.y>=k.minY&&l.y<=k.maxY)return true;var m=(k.minX-l.x)/l.dx,n=(k.maxX-l.x)/l.dx,o=(k.minY-l.y)/l.dy,p=(k.maxY-l.y)/l.dy,q=Math.max(Math.min(m,n),Math.min(o,p)),r=Math.min(Math.max(m,n),Math.max(o,p));if(q<0)return false;if(q>r)return false;return true;}};f.exports=j;},null);
__d('AdsMouseStateStore',['Arbiter','DOM','Event','Vector','$','invariant','keyMirror','rayInterceptsBox','throttle'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=30,r=500,s=n({STATIONARY:null,INTENT:null,HOVER:null,NO_INTENT:null}),t,u,v,w,x;function y(){t=s.STATIONARY;u=0;v=0;w=Date.now();x='pagelet_ego_pane';}y();function z(event){try{return {x:event.clientX||event.x,y:event.clientY||event.y};}catch(ba){var ca=Math.random()*1000;return {x:ca,y:ca};}}var aa=Object.assign(new h(),{getState:function(){return t;},updateRhcID:function(ba){!l(ba)?m(0):undefined;x=ba;},getRhcID:function(){return x;},onPageTransition:function(event){y();},onMouseMove:function(event){this.calculateState(z(event));},__updateMousePos:function(ba){u=ba.x;v=ba.y;},isRhcPresent:function(){if(!i.scry(document.body,'#'+x).length)return false;var ba=this.getRhcDimensions();return ba.y>0&&ba.x>0;},getRhc:function(){return l(x);},getRhcPosition:function(){return k.getElementPosition(this.getRhc());},getRhcScreenPos:function(){var ba=k.getScrollPosition(),ca=this.getRhcPosition();return {x:ca.x-ba.x,y:ca.y-ba.y};},getRhcDimensions:function(){return k.getElementDimensions(this.getRhc());},getRhcBoundingBox:function(){var ba=this.getRhcDimensions(),ca=this.getRhcScreenPos();return {minX:ca.x,maxX:ca.x+ba.x,minY:ca.y,maxY:ca.y+ba.y};},isPosContainedInRhc:function(ba){var ca=this.getRhcBoundingBox();return (ba.x>=ca.minX&&ba.x<=ca.maxX&&ba.y>=ca.minY&&ba.y<=ca.maxY);},hasMovedMinDistance:function(ba){var ca=ba.x-u,da=ba.y-v;return ca*ca+da*da>=q*q;},tooSoon:function(){return Date.now()-w<r;},_updateTime:function(){w=Date.now();},calculateState:function(ba){if(this.tooSoon())return;this._updateTime();if(!this.isRhcPresent())return;if(this.isPosContainedInRhc(ba)){this.transitionToState(s.HOVER);this.__updateMousePos(ba);this.scheduleCheckup();return;}else if(!this.hasMovedMinDistance(ba)){this.transitionToState(s.STATIONARY);return;}var ca=this.isMovingTowardsRhc(ba)?s.INTENT:s.NO_INTENT;this.transitionToState(ca);this.__updateMousePos(ba);this.scheduleCheckup();},isMovingTowardsRhc:function(ba){var ca={x:u,y:v};if(this.isPosContainedInRhc(ca))return true;var da=this.getRhcBoundingBox(),ea={x:u,y:v,dx:ba.x-u,dy:ba.y-v};return o.check(da,ea);},scheduleCheckup:function(){var ba={x:u,y:v};setTimeout((function(){this.calculateState(ba);}).bind(this),r*1.5);},transitionToState:function(ba){if(ba===t)return;t=ba;aa.inform('change');}});j.listen(document,'mousemove',p(aa.onMouseMove.bind(aa),r));h.subscribe('page_transition',aa.onPageTransition);aa.STATES=s;aa.MIN_MOVE_DISTANCE=q;aa.THROTTLE_TIME=r;f.exports=aa;},null);
__d('BlueBar',['Arbiter','BizSiteIdentifier.brands','DOM','DOMQuery','Event','Locale','Run','SubscriptionsHandler','csx','getElementPosition','memoize'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s;function t(event){if(h.inform('BlueBar/homeClick')===false)event.preventDefault();}function u(){if(s){s.release();s=null;}w.getBar=i.isBizSite()?v("div._16xo"):v("div._4f7n");w.getNavRoot=v("div._uaw");}function v(x){return r(function(){return k.scry(document,x)[0];});}var w={init:function(){var x,y=v("div._2gyk")(),z=v("div._2gyj")(),aa=q(y);j.setAttributes(z,{style:(x={},x[m.isRTL()?'marginLeft':'marginRight']=aa.width+'px',x)});},listen:function(x){if(!s){s=new o();n.onUnload(u);}s.addSubscriptions(l.listen(x,'click',t));},getBar:i.isBizSite()?v("div._16xo"):v("div._4f7n"),getNavRoot:v("div._uaw")};f.exports=w;},null);
__d('BusinessURI.brands',['BizSiteIdentifier.brands','BusinessConf','URI'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l;k=babelHelpers.inherits(m,j);l=k&&k.prototype;function m(o,p){'use strict';l.constructor.call(this,o);if(h.isBizSite()){var q=p||h.getBusinessID();if(q)this.addQueryData(i.BIZ_ID_PARAM_NAME,q);if(!this.$BusinessURI1(this.getSubdomain()))this.setSubdomain(i.DOMAIN);}return this;}m.prototype.$BusinessURI1=function(o){'use strict';return o==='developers';};var n=function(o,p){return new m(o,p);};f.exports=n;},null);
__d('AvailableListConstants',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={ON_AVAILABILITY_CHANGED:'buddylist/availability-changed',ON_UPDATE_ERROR:'buddylist/update-error',ON_UPDATED:'buddylist/updated',ON_CHAT_NOTIFICATION_CHANGED:'chat-notification-changed',OFFLINE:0,IDLE:1,ACTIVE:2,MOBILE:3,WEB_STATUS:'webStatus',FB_APP_STATUS:'fbAppStatus',MESSENGER_STATUS:'messengerStatus',OTHER_STATUS:'otherStatus',STATUS_ACTIVE:'active',STATUS_IDLE:'idle',STATUS_OFFLINE:'offline'};b.AvailableListConstants=f.exports=h;},null);
__d('ChatTypeaheadConstants',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={USER_TYPE:'user',THREAD_TYPE:'thread',FRIEND_TYPE:'friend',NON_FRIEND_TYPE:'non_friend',FB4C_TYPE:'fb4c',PAGE_TYPE:'page',HEADER_TYPE:'header'};f.exports=h;},null);
__d('MercuryIDs',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={isValid:function(i){if(!i||typeof i!=='string')return false;return (/^\w{3,12}:/.test(i));},isValidThreadID:function(i){if(!h.isValid(i))return false;var j=h.tokenize(i);switch(j.type){case 'user':case 'group':case 'thread':case 'root':case 'pending':return true;default:return false;}},tokenize:function(i){if(!this.isValid(i))throw 'bad_id_format '+i;var j=i.indexOf(':');return {type:i.substr(0,j),value:i.substr(j+1)};},getUserIDFromParticipantID:function(i){if(!this.isValid(i))throw 'bad_id_format '+i;var j=h.tokenize(i),k=j.type,l=j.value;if(k!='fbid')return null;return l;},getParticipantIDFromUserID:function(i){if(isNaN(i))throw 'Not a user ID: '+i;return 'fbid:'+i;},getUserIDFromThreadID:function(i){if(!this.isCanonical(i))return null;return this.tokenize(i).value;},getThreadIDFromUserID:function(i){return 'user:'+i;},getThreadIDFromThreadFBID:function(i){return 'thread:'+i;},getThreadIDFromParticipantID:function(i){var j=this.getUserIDFromParticipantID(i);return j?this.getThreadIDFromUserID(j):null;},getParticipantIDFromFromThreadID:function(i){return this.getParticipantIDFromUserID(this.getUserIDFromThreadID(i)||'');},isCanonical:function(i){return this.isValid(i)&&this.tokenize(i).type==='user';},isGroupChat:function(i){return this.isValid(i)&&this.tokenize(i).type!=='user';},isLocalThread:function(i){return this.isValid(i)&&this.tokenize(i).type==='root';}};f.exports=h;},null);
__d('WebMessengerPermalinkConstants',['MercuryConfig','URI'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={ARCHIVED_PATH:'/messages/archived',BASE_PATH:'/messages',PENDING_PATH:'/messages/pending',OTHER_PATH:'/messages/other',SPAM_PATH:'/messages/spam',COMPOSE_POSTFIX_PATH:'/new',SEARCH_POSTFIX_PATH:'/search',TID_POSTFIX_PARTIAL_PATH:'/conversation-',overriddenVanities:h.CoreGraphEnabled?'(archived|other|pending|spam|new|search|conversation-.*)':'(archived|other|spam|new|search|conversation-.*)',getURIPathForThreadID:function(k,l){return (l||j.BASE_PATH)+j.TID_POSTFIX_PARTIAL_PATH+i.encodeComponent(i.encodeComponent(k));},getThreadIDFromURI:function(k){var l=k.getPath().match(j.BASE_PATH+'(/[^/]*)*'+j.TID_POSTFIX_PARTIAL_PATH+'([^/]+)');if(l){var m=i.decodeComponent(i.decodeComponent(l[2]));return m;}},getURIPathForIDOrVanity:function(k,l){if(k.match('^'+j.overriddenVanities+'$'))k='.'+k;return (l||j.BASE_PATH)+'/'+k;},getUserIDOrVanity:function(k){var l=k.match(j.BASE_PATH+'.*/([^/]+)/?$'),m=l&&l[1],n=j.overriddenVanities;if(!m||m.match('^'+n+'$')){return false;}else if(m.match('^\\.'+n+'$')){return m.substr(1);}else return m;}};f.exports=j;},null);
__d('ChatOpenTab',['BusinessURI.brands','ChatTypeaheadConstants','ContextualThing','Event','goURI','MercuryIDs','MercuryParticipantTypes','Parent','WebMessengerPermalinkConstants','curry','cx','emptyFunction','requireWeak'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u=null;t('ChatApp',function(ea){return u=ea;});function v(ea,fa){var ga=ea?h(p.getURIPathForThreadID(ea)):h(p.BASE_PATH+p.COMPOSE_POSTFIX_PATH);if(fa)ga.addQueryData({ref:fa});l(ga);}function w(ea,fa){v(m.getThreadIDFromUserID(ea),fa);}function x(ea,fa,ga){w(fa,ga);}function y(ea,fa){v(m.getThreadIDFromThreadFBID(ea),fa);}function z(ea,fa){v(null,fa);}function aa(ea,fa,ga,ha){k.listen(ea,'click',function(ia){if(da.canOpenTab()){ha(fa,ga);return ia.kill();}});}function ba(ea,fa,ga,ha){da.impl()._logChatOpenTabEvent(ea,fa,ga,ha);}function ca(ea){var fa=j.getContext(ea);return fa&&o.byClass(fa,"_3qw")!==null;}var da={canOpenTab:function(){return u&&!u.isHidden();},openEmptyTab:function(ea,fa,ga){da.impl().openEmptyTab(ea,fa,ga);},listenOpenEmptyTab:function(ea,fa){aa(ea,null,fa,da.openEmptyTab);},openThread:function(ea,fa,ga,ha,ia){da.impl().openThreadTab(ea,fa,ga,ha,ia);},openClientTab:function(ea,fa,ga,ha,ia){var ja=da.impl();ja.openClientTab(ea,ha,ia);ja._logChatOpenTabEvent(fa,ea,null,ga);},listenOpenThread:function(ea,fa,ga){aa(ea,fa,ga,da.openThread);},openUserTab:function(ea,fa,ga){da.impl().openUserTab(ea,fa,ga);},openPageTab:function(ea,fa,ga){da.impl().openPageTab(ea,fa,ga);return true;},listenOpenUserTab:function(ea,fa,ga){if(!ca(ea))aa(ea,fa,ga,da.openUserTab);},listenOpenPageTab:function(ea,fa,ga,ha){if(!ca(ea))aa(ea,fa,ha,q(da.openPageTab,ga));},openTabByType:function(ea,fa,ga){if(fa===i.THREAD_TYPE){if(ea){this.openThread(ea,ga);}else this.openEmptyTab(null,ga);}else if(!fa||fa===n.FRIEND||fa===i.FRIEND_TYPE||fa===i.PAGE_TYPE||fa===i.USER_TYPE)this.openUserTab(ea,ga);},impl:function(){if(u&&u.isInitialized()&&!u.isHidden()&&u.chatOpenTabImpl){return u.chatOpenTabImpl;}else return {openClientTab:v,openUserTab:w,openEmptyTab:z,openThreadTab:y,openPageTab:x,_logChatOpenTabEvent:s};}};f.exports=da;},null);
__d('PresenceUtil',['CurrentUser','randomInt'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=i(0,4294967295)+1;function k(){return j;}function l(){return h.isLoggedInNow();}f.exports={getSessionID:k,hasUserCookie:l};},null);
__d('PresencePrivacy',['Arbiter','AsyncRequest','ChannelConstants','CurrentUser','PresencePrivacyInitialData','JSLogger','PresenceUtil'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o='/ajax/chat/privacy/settings.php',p='/ajax/chat/privacy/online_policy.php',q='/ajax/chat/privacy/visibility.php',r='friend_visibility',s='visibility',t='online_policy',u=babelHelpers._extends({},l.privacyData),v=l.visibility,w=babelHelpers._extends({},l.privacyData),x=v,y=l.onlinePolicy,z=y,aa=[],ba=false;function ca(){return m.create('blackbird');}var da=Object.assign(new h(),{WHITELISTED:1,BLACKLISTED:-1,UNLISTED:0,ONLINE:1,OFFLINE:0,ONLINE_TO_WHITELIST:0,ONLINE_TO_BLACKLIST:1});function ea(qa){var ra;for(ra in qa){var sa=qa[ra];if(ra==k.getID()){ca().error('set_viewer_visibility');throw new Error("Invalid to set current user's visibility");}switch(sa){case da.WHITELISTED:case da.BLACKLISTED:case da.UNLISTED:break;default:ca().error('set_invalid_friend_visibility',{id:ra,value:sa});throw new Error("Invalid state: "+sa);}}for(ra in qa)u[ra]=qa[ra];da.inform('privacy-changed');}function fa(qa,ra){var sa={};sa[qa]=ra;ea(sa);}function ga(qa){switch(qa){case da.ONLINE:case da.OFFLINE:break;default:ca().error('set_invalid_visibility',{value:qa});throw new Error("Invalid visibility: "+qa);}v=qa;da.inform('privacy-changed');da.inform('privacy-user-presence-changed');h.inform('chat/visibility-changed',{sender:this});}function ha(qa){switch(qa){case da.ONLINE_TO_WHITELIST:case da.ONLINE_TO_BLACKLIST:break;default:throw new Error("Invalid default online policy: "+qa);}y=qa;da.inform('privacy-user-presence-changed');da.inform('privacy-changed');}function ia(qa,ra){ba=true;qa.send();}function ja(qa,ra){aa.push({request:qa,data:ra});if(!ba){var sa=aa.shift();ia(sa.request,sa.data);}}function ka(qa,ra){var sa=qa.type;if(sa===r){var ta=ra.payload.user_availabilities;if(!Array.isArray(ta)){da.inform('privacy-availability-changed',{user_availabilities:ta});for(var ua in qa.settings)w[ua]=qa.settings[ua];}}else{if(sa===s){x=qa.visibility;}else if(sa===t)z=qa.online_policy;da.inform('privacy-user-presence-response');}ca().log('set_update_response',{data:qa,response:ra});}function la(qa,ra){if(v!==x)ga(x);if(y!==z)ha(z);Object.assign(u,w);da.inform('privacy-changed');aa=[];ca().log('set_error_response',{data:qa,response:ra});}function ma(qa){ba=false;if(aa.length>0){var ra=aa.shift();ia(ra.request,ra.data);}}function na(qa,ra){if(n!=null){var sa=qa.getData();sa.window_id=n.getSessionID();qa.setData(sa);}qa.setHandler(ka.bind(this,ra)).setErrorHandler(la.bind(this,ra)).setTransportErrorHandler(la.bind(this,ra)).setFinallyHandler(ma.bind(this)).setAllowCrossPageTransition(true);return qa;}function oa(qa,ra,sa){return na(new i(qa).setData(ra),sa);}function pa(qa,ra){var sa=ra.obj;if(sa.viewer_id!=k.getID()){ca().error('invalid_viewer_for_channel_message',{type:qa,data:ra});throw new Error("Viewer got from the channel is not the real viewer");}if(sa.window_id===n.getSessionID())return;var ta=sa.data;if(sa.event=='access_control_entry'){ta.target_ids.forEach(function(va){fa(va,ta.setting);w[va]=ta.setting;});}else{if(sa.event=='visibility_update'){var ua=!!ta.visibility?da.ONLINE:da.OFFLINE;ga(ua);x=ua;}else if(sa.event=='online_policy_update'){ha(ta.online_policy);z=ta.online_policy;}da.inform('privacy-user-presence-response');}ca().log('channel_message_received',{data:ra.obj});}Object.assign(da,{WHITELISTED:1,BLACKLISTED:-1,UNLISTED:0,ONLINE:1,OFFLINE:0,ONLINE_TO_WHITELIST:0,ONLINE_TO_BLACKLIST:1,init:function(qa,ra,sa){},setVisibility:function(qa){x=v;ga(qa);var ra={visibility:qa},sa={type:s,visibility:qa},ta=oa(q,ra,sa);ja(ta,sa);ca().log('set_visibility',{data:ra});return qa;},getVisibility:function(){return v;},setOnlinePolicy:function(qa){z=y;ha(qa);var ra={online_policy:qa},sa={type:t,online_policy:qa},ta=oa(p,ra,sa);ja(ta,sa);ca().log('set_online_policy',{data:ra});return qa;},getOnlinePolicy:function(){return y;},getFriendVisibility:function(qa){return u[qa]||da.UNLISTED;},isUserOffline:function(){return this.getVisibility()===da.OFFLINE;},allows:function(qa){if(this.isUserOffline())return false;var ra=this.getOnlinePolicy();return ra===da.ONLINE_TO_WHITELIST?u[qa]==da.WHITELISTED:u[qa]!=da.BLACKLISTED;},setFriendsVisibility:function(qa,ra){if(qa.length>0){var sa={};for(var ta=0;ta<qa.length;ta++){var ua=qa[ta];w[ua]=u[ua];sa[ua]=ra;}ea(sa);var va=ra;if(va==da.UNLISTED)va=w[qa[0]];var wa={users:qa,setting:ra,setting_type:va},xa={type:r,settings:sa},ya=oa(o,wa,xa);ja(ya,xa);ca().log('set_friend_visibility',{data:wa});}return ra;},setFriendVisibilityMap:function(qa,ra){for(var sa in qa)w[sa]=u[sa];ea(qa);var ta={type:r,settings:qa};ja(na(ra,ta),ta);ca().log('set_friend_visibility_from_map',{data:qa});},allow:function(qa){if(this.allows(qa)){ca().error('allow_already_allowed');throw new Error("allow() should only be called for users that "+"are not already allowed");}if(this.getVisibility()===da.OFFLINE){ca().error('allow_called_while_offline');throw new Error("allow() should only be called when the user is already online");}var ra=this.getOnlinePolicy()===da.ONLINE_TO_WHITELIST?da.WHITELISTED:da.UNLISTED;return this.setFriendsVisibility([qa],ra);},disallow:function(qa){if(!this.allows(qa)){ca().error('disallow_already_disallowed');throw new Error("disallow() should only be called for users that "+"are not already disallowed");}if(this.getVisibility()===da.OFFLINE){ca().error('disallow_called_while_offline');throw new Error("disallow() should only be called when the user is already online");}var ra=this.getOnlinePolicy()===da.ONLINE_TO_BLACKLIST?da.BLACKLISTED:da.UNLISTED;return this.setFriendsVisibility([qa],ra);},getBlacklist:function(){var qa=[];for(var ra in u)if(u[ra]===da.BLACKLISTED)qa.push(ra);return qa;},getWhitelist:function(){var qa=[];for(var ra in u)if(u[ra]===da.WHITELISTED)qa.push(ra);return qa;},getMapForTest:function(){return u;},setMapForTest:function(qa){u=qa;}});da.inform('privacy-changed');da.inform('privacy-user-presence-changed',h.BEHAVIOR_STATE);ca().log('initialized',{visibility:v,policy:y});h.subscribe(m.DUMP_EVENT,function(qa,ra){ra.presence_privacy={initial:l.privacyData,current:u};});h.subscribe(j.getArbiterType('privacy_changed'),pa.bind(this));h.subscribe(j.ON_CONFIG,(function(qa,ra){var sa=ra.getConfig('visibility',null);if(sa!==null&&typeof sa!=='undefined'){var ta=sa?da.ONLINE:da.OFFLINE;ga(ta);ca().log('config_visibility',{vis:ta});}}).bind(this));f.exports=da;},null);
__d('ChatVisibility',['Arbiter','JSLogger','PresencePrivacy'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={isOnline:function(){return j.getVisibility()===j.ONLINE;},hasBlackbirdEnabled:function(){return this.isVisibleToMostFriends()||this.isVisibleToSomeFriends();},isVisibleToMostFriends:function(){return j.getOnlinePolicy()===j.ONLINE_TO_BLACKLIST&&j.getBlacklist().length>0;},isVisibleToSomeFriends:function(){return j.getOnlinePolicy()===j.ONLINE_TO_WHITELIST&&j.getWhitelist().length>0;},goOnline:function(l){if(j.getVisibility()===j.OFFLINE){i.create('blackbird').log('chat_go_online');j.setVisibility(j.ONLINE);h.inform('chat-visibility/go-online');}l&&l();},goOffline:function(l){if(j.getVisibility()===j.ONLINE){i.create('blackbird').log('chat_go_offline');j.setVisibility(j.OFFLINE);h.inform('chat-visibility/go-offline');}l&&l();},toggleVisibility:function(){if(k.isOnline()){k.goOffline();}else k.goOnline();}};f.exports=k;},null);
__d('LastMobileActiveTimes',['ServerTime','fbt'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={};function k(o){if(!o||o<0)return '';var p=h.get()/1000-o,q=Math.floor(p/60),r=Math.floor(q/60),s=Math.floor(r/24);if(q<=1){return i._("{count}m",[i.param('count',1)]);}else if(q<60){return i._("{count}m",[i.param('count',q)]);}else if(r<24){return i._("{count}h",[i.param('count',r)]);}else if(s<3){return i._("{count}d",[i.param('count',s)]);}else return '';}function l(o,p){if(!(o in j)||j[o]<p)j[o]=p;}function m(o){if(o in j){return j[o];}else return 0;}var n={update:function(o){for(var p in o)l(p,o[p]);},getShortDisplay:function(o){return k(m(o));},get:function(o){return m(o);},getDebugData:function(){return j;}};f.exports=n;},null);
__d('PresenceStatus',['ArbiterMixin','AvailableListConstants','BanzaiODS','ChatVisibility','CurrentUser','LastMobileActiveTimes','LogHistory','Set','PresencePrivacy','ServerTime','createObjectFrom','debounceAcrossTransitions'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();j.setEntitySample('presence',.0001);var t=n.getInstance('presence_status'),u={},v={},w={},x={},y=new o(),z={},aa={},ba=Object.assign({},h),ca=s(function(){return ba.inform('change');},0);Object.assign(ba,{resetPresenceData:function(){v={};w={};aa={};z={};},reset:function(){ba.resetPresenceData();x={};},get:function(da){if(da==l.getID())return k.isOnline()?i.ACTIVE:i.OFFLINE;var ea=i.OFFLINE;if(da in v)ea=v[da];if(ea===i.OFFLINE||ea===i.IDLE)if(x[da])ea=i.MOBILE;if(!p.allows(da))ea=i.OFFLINE;return ea;},getCapabilities:function(da){var ea=ba.get(da);if(ea==i.OFFLINE)return 0;var fa=w[da];return fa?fa:0;},isMobileUser:function(da){return x[da];},getGroup:function(da){return da.some(function(ea){if(ea==l.getID())return false;return ba.get(ea)===i.ACTIVE;})?i.ACTIVE:i.OFFLINE;},set:function(da,ea,fa,ga,ha){if(da==l.getID())return false;if(y.has(parseInt(da,10)))return false;var ia=ba.get(da),ja=false;if(ea!==undefined&&ea!==null){ja=ia!=ea;switch(ea){case i.OFFLINE:case i.IDLE:case i.ACTIVE:case i.MOBILE:break;default:return false;}if(ja&&ia==i.ACTIVE||ea==i.ACTIVE){var ka={};ka[da]=q.get()/1000;m.update(ka);}v[da]=ea;}var la=false;if(ha)la=ba.getCapabilities(da)!=ha;if(fa){z[da]=q.get();aa[da]=ga;}if(ha)w[da]=ha;var ma=ja||la;if(ma)ca();return ma;},setMobileFriends:function(da){x=r(da);},setPerpetuallyMobileBuddies:function(da){y=new o(da);},getOnlineIDs:function(){var da,ea=[];for(da in v)if(ba.get(da)===i.ACTIVE)ea.push(da);return ea;},getAvailableIDs:function(){var da=ba.getOnlineIDs(),ea;for(ea in x){if(v[ea])continue;da.push(ea);}return da;},getOnlineCount:function(){return ba.getOnlineIDs().length;},getPresenceStats:function(){var da=0,ea=0,fa=0,ga=0,ha=0;for(var ia in v){da+=1;switch(ba.get(ia)){case i.OFFLINE:ea+=1;break;case i.IDLE:fa+=1;break;case i.ACTIVE:ga+=1;break;case i.MOBILE:ha+=1;break;default:break;}}return {total:da,offline:ea,idle:fa,active:ga,mobile:ha};},getDebugInfo:function(da){return {id:da,presence:v[da],overlaySource:aa[da],overlayTime:z[da],mobile:x[da]};},getAllDebugInfo:function(){return {presence:v,overlaySource:aa,overlayTime:z,mobile:x};}});f.exports=ba;},null);
__d("arrayStableSort",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){return i.map(function(k,l){return {data:k,index:l};}).sort(function(k,l){return j(k.data,l.data)||k.index-l.index;}).map(function(k){return k.data;});}f.exports=h;},null);
__d('RangedCallbackManager',['CallbackManagerController','arrayStableSort','createObjectFrom'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();function k(l,m,n){'use strict';this.$RangedCallbackManager1=[];this.$RangedCallbackManager2=false;this.$RangedCallbackManager3=false;this.$RangedCallbackManager4={};this.$RangedCallbackManager5=new h(this.$RangedCallbackManager6.bind(this));this.$RangedCallbackManager7=l;this.$RangedCallbackManager8=m;this.$RangedCallbackManager9=n;}k.prototype.executeOrEnqueue=function(l,m,n,o,p){'use strict';return this.$RangedCallbackManager5.executeOrEnqueue({start:l,limit:m},n,{strict:!!o,skipOnStrictHandler:p});};k.prototype.unsubscribe=function(l){'use strict';this.$RangedCallbackManager5.unsubscribe(l);};k.prototype.getUnavailableResources=function(l){'use strict';var m=this.$RangedCallbackManager5.getRequest(l),n=[];if(m&&!this.$RangedCallbackManager2){var o=m.request,p=this.$RangedCallbackManager10(m.options),q=o.start+o.limit;for(var r=p.length;r<q;r++)n.push(r);}return n;};k.prototype.addResources=function(l){'use strict';l.forEach((function(m){if(!this.$RangedCallbackManager4[m]){this.$RangedCallbackManager4[m]=true;this.$RangedCallbackManager1.push(m);this.$RangedCallbackManager3=null;}}).bind(this));this.resortResources();this.$RangedCallbackManager5.runPossibleCallbacks();};k.prototype.addResourcesWithoutSorting=function(l,m){'use strict';var n=this.$RangedCallbackManager1.slice(0,m);n=n.concat(l);n=n.concat(this.$RangedCallbackManager1.slice(m));this.$RangedCallbackManager1=n;Object.assign(this.$RangedCallbackManager4,j(l,true));this.$RangedCallbackManager3=null;this.$RangedCallbackManager5.runPossibleCallbacks();};k.prototype.removeResources=function(l){'use strict';l.forEach((function(m){if(this.$RangedCallbackManager4[m]){this.$RangedCallbackManager4[m]=false;var n=this.$RangedCallbackManager1.indexOf(m);if(n!=-1)this.$RangedCallbackManager1.splice(n,1);}}).bind(this));};k.prototype.removeAllResources=function(){'use strict';this.$RangedCallbackManager1=[];this.$RangedCallbackManager4={};};k.prototype.resortResources=function(){'use strict';this.$RangedCallbackManager1=i(this.$RangedCallbackManager1,(function(l,m){return (this.$RangedCallbackManager8(this.$RangedCallbackManager7(l),this.$RangedCallbackManager7(m)));}).bind(this));};k.prototype.setReachedEndOfArray=function(){'use strict';if(!this.$RangedCallbackManager2){this.$RangedCallbackManager2=true;this.$RangedCallbackManager3=null;this.$RangedCallbackManager5.runPossibleCallbacks();}};k.prototype.hasReachedEndOfArray=function(){'use strict';return this.$RangedCallbackManager2;};k.prototype.setError=function(l){'use strict';if(this.$RangedCallbackManager3!==l){this.$RangedCallbackManager3=l;this.$RangedCallbackManager5.runPossibleCallbacks();}};k.prototype.getError=function(l,m,n){'use strict';var o=this.$RangedCallbackManager10({strict:n});return l+m>o.length?this.$RangedCallbackManager3:null;};k.prototype.hasResource=function(l){'use strict';return this.$RangedCallbackManager4[l];};k.prototype.getResourceAtIndex=function(l){'use strict';return this.$RangedCallbackManager1[l];};k.prototype.getAllResources=function(){'use strict';return this.$RangedCallbackManager1.concat();};k.prototype.getCurrentArraySize=function(l){'use strict';return this.$RangedCallbackManager10(l).length;};k.prototype.$RangedCallbackManager10=function(l){'use strict';var m=this.$RangedCallbackManager1;if(l&&l.strict){var n=l.skipOnStrictHandler||this.$RangedCallbackManager9;if(n)m=m.filter(n);}return m;};k.prototype.$RangedCallbackManager6=function(l,m){'use strict';var n=this.$RangedCallbackManager10(m);if(!this.$RangedCallbackManager2&&!this.$RangedCallbackManager3&&l.start+l.limit>n.length){return false;}else{var o=n.slice(l.start,l.start+l.limit),p=l.start+l.limit>n.length?this.$RangedCallbackManager3:null;return [o,p];}};k.prototype.getElementsUntil=function(l){'use strict';var m=[];for(var n=0;n<this.$RangedCallbackManager1.length;n++){var o=this.$RangedCallbackManager7(this.$RangedCallbackManager1[n]);if(this.$RangedCallbackManager8(o,l)>0)break;m.push(this.$RangedCallbackManager1[n]);}return m;};f.exports=k;},null);
__d('escapeRegex',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){return i.replace(/([.?*+\^$\[\]\\(){}|\-])/g,'\\$1');}f.exports=h;},null);
__d('FBRTCSupport',['ChannelConstants','RTCConfig','UserAgent'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={isSendWebrtcSupported:function(){return i.SendNewVCGK;},isReceiveWebrtcSupported:function(){return i.ReceiveNewVCGK;},isVideoInteropSupported:function(){return i.VideoInteropGK;},isVideoCallBlockingSupported:function(){return i.VideoCallBlockingGK;},isWebrtcSupported:function(){return (j.isBrowser('Chrome >= 28')||j.isBrowser('Firefox >= 25')||j.isBrowser('Opera >= 20'));},isOSSupported:function(){return !j.isPlatform('Android')&&!j.isPlatform('iOS');},getCapabilities:function(){var l=0;if(this.isReceiveWebrtcSupported())l=h.CAPABILITY_VOIP_INTEROP;return l;}};f.exports=k;},null);
__d('MessagingReliabilityLogger',['PresenceUtil','MercuryServerDispatcher','MessagingReliabilityLoggerInitialData','isEmpty','setTimeoutAcrossTransitions'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m='/ajax/mercury/client_reliability.php',n=60000;function o(u,v){var w={app:j.app,categories:JSON.stringify(u)};if(!k(v))w.extra=JSON.stringify(v);return w;}function p(u,v,w,x){if(u[v]===undefined)u[v]={};if(u[v][w]===undefined)u[v][w]=0;u[v][w]+=x;}function q(u,v,w,x){if(u[v]===undefined)u[v]={};if(u[v][w]===undefined)u[v][w]=[];for(var y=0;y<x.length;++y)u[v][w].push(x[y]);}function r(u,v){if(u&&!u.categories||v&&!v.categories)return;var w=u?JSON.parse(u.categories):{},x=u&&u.extra?JSON.parse(u.extra):{},y=JSON.parse(v.categories),z=v.extra?JSON.parse(v.extra):{};for(var aa in y){var ba=y[aa],ca=z[aa];for(var da in ba){p(w,aa,da,ba[da]);if(ca!==undefined){var ea=ca[da];if(ea!==undefined)q(x,aa,da,ea);}}}return o(w,x);}var s={};s[m]={mode:i.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR,batch_function:r};i.registerEndpoints(s);var t={addEntry:function(u,v,w){if(!j.enabled)return;var x={};p(x,u,v,1);var y={};if(w!==undefined)q(y,u,v,[w]);i.trySend(m,o(x,y));}};(function u(){t.addEntry('page_event','active',h.getSessionID());l(u,n);})();f.exports=t;},null);
__d("ScriptPathState",["Arbiter"],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i,j,k,l,m=100,n={setIsUIPageletRequest:function(o){k=o;},setUserURISampleRate:function(o){l=o;},reset:function(){i=null;j=false;k=false;},_shouldUpdateScriptPath:function(){return j&&!k;},_shouldSendURI:function(){return Math.random()<l;},getParams:function(){var o={};if(n._shouldUpdateScriptPath()){if(n._shouldSendURI()&&i!==null)o.user_uri=i.substring(0,m);}else o.no_script_path=1;return o;}};h.subscribe("pre_page_transition",function(o,p){j=true;i=p.to.getUnqualifiedURI().toString();});f.exports=b.ScriptPathState=n;},null);
__d('AjaxPipeRequest',['Arbiter','AsyncRequest','BigPipe','CSS','DOM','Env','PageEvents','PageletSet','ScriptPathState','URI','ge','goOrReplace','performance','performanceAbsoluteNow'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v,w=0;function x(aa,ba){var ca=r(aa);if(!ca)return;if(!ba)ca.style.minHeight='100px';var da=o.getPageletIDs();for(var ea=0;ea<da.length;ea++){var fa=da[ea];if(l.contains(ca,fa))o.removePagelet(fa);}l.empty(ca);h.inform('pagelet/destroy',{id:null,root:ca});}function y(aa,ba){var ca=r(aa);if(ca&&!ba)ca.style.minHeight='100px';}function z(aa,ba){'use strict';this._uri=aa;this._query_data=ba;this._request=new i();this._canvas_id=null;this._allow_cross_page_transition=true;this._arbiter=new h();this._requestID=w++;}z.prototype.setCanvasId=function(aa){'use strict';this._canvas_id=aa;return this;};z.prototype.setURI=function(aa){'use strict';this._uri=aa;return this;};z.prototype.setData=function(aa){'use strict';this._query_data=aa;return this;};z.prototype.getData=function(aa){'use strict';return this._query_data;};z.prototype.setAllowCrossPageTransition=function(aa){'use strict';this._allow_cross_page_transition=aa;return this;};z.prototype.setAppend=function(aa){'use strict';this._append=aa;return this;};z.prototype.send=function(){'use strict';this._arbiter.inform(n.AJAXPIPE_SEND,{rid:this._requestID,quickling:!!this._isQuickling,ts:u()},h.BEHAVIOR_PERSISTENT);var aa={ajaxpipe:1,ajaxpipe_token:m.ajaxpipe_token};Object.assign(aa,p.getParams());p.reset();this._request.setOption('useIframeTransport',true).setURI(this._uri).setData(Object.assign(aa,this._query_data)).setPreBootloadHandler(this._preBootloadHandler.bind(this)).setInitialHandler(this._onInitialResponse.bind(this)).setHandler(this._onResponse.bind(this)).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(this._allow_cross_page_transition).setAllowIrrelevantRequests(this._allowIrrelevantRequests);if(this._automatic){this._relevantRequest=v;}else v=this._request;if(this._isQuickling){var ba=t.webkitClearResourceTimings||t.clearResourceTimings||null;if(ba)ba.call(t);}this._request.send();return this;};z.prototype._preBootloadFirstResponse=function(aa){'use strict';return false;};z.prototype._fireDomContentCallback=function(){'use strict';this._arbiter.inform(n.AJAXPIPE_DOMREADY,true,h.BEHAVIOR_STATE);};z.prototype._fireOnloadCallback=function(){'use strict';this._arbiter.inform(n.AJAXPIPE_ONLOAD,{lid:this.pipe.lid,rid:this._requestID,ts:u()},h.BEHAVIOR_STATE);};z.prototype._isRelevant=function(aa){'use strict';return this._request==v||this._automatic&&this._relevantRequest==v||this._jsNonBlock||v&&v._allowIrrelevantRequests;};z.prototype._preBootloadHandler=function(aa){'use strict';var ba=aa.getPayload();if(!ba||ba.redirect||!this._isRelevant(aa))return false;var ca=false;if(aa.is_first){!this._append&&!this._displayCallback&&x(this._canvas_id,this._constHeight);ca=this._preBootloadFirstResponse(aa);this.pipe=new j({arbiter:this._arbiter,rootNodeID:this._canvas_id,lid:this._request.lid,rid:this._requestID,isAjax:true,domContentCallback:this._fireDomContentCallback.bind(this),onloadCallback:this._fireOnloadCallback.bind(this),domContentEvt:n.AJAXPIPE_DOMREADY,onloadEvt:n.AJAXPIPE_ONLOAD,jsNonBlock:this._jsNonBlock,automatic:this._automatic,displayCallback:this._displayCallback,allowIrrelevantRequests:this._allowIrrelevantRequests});}return ca;};z.prototype._redirect=function(aa){'use strict';if(aa.redirect){if(aa.force||!this.isPageActive(aa.redirect)){var ba=['ajaxpipe','ajaxpipe_token'].concat(this.getSanitizedParameters());s(window.location,new q(aa.redirect).removeQueryData(ba),true);}else{var ca=b.PageTransitions;ca.go(aa.redirect,true);}return true;}else return false;};z.prototype.isPageActive=function(aa){'use strict';return true;};z.prototype.getSanitizedParameters=function(){'use strict';return [];};z.prototype._versionCheck=function(aa){'use strict';return true;};z.prototype._onInitialResponse=function(aa){'use strict';var ba=aa.getPayload();if(!this._isRelevant(aa))return false;if(!ba)return true;if(this._redirect(ba)||!this._versionCheck(ba))return false;return true;};z.prototype._processFirstResponse=function(aa){'use strict';var ba=aa.getPayload();if(r(this._canvas_id)&&ba.canvas_class!=null)k.setClass(this._canvas_id,ba.canvas_class);};z.prototype.setFirstResponseCallback=function(aa){'use strict';this._firstResponseCallback=aa;return this;};z.prototype.setFirstResponseHandler=function(aa){'use strict';this._processFirstResponse=aa;return this;};z.prototype._onResponse=function(aa){'use strict';var ba=aa.payload;if(!this._isRelevant(aa))return i.suppressOnloadToken;if(aa.is_first){this._processFirstResponse(aa);this._firstResponseCallback&&this._firstResponseCallback();ba.provides=ba.provides||[];ba.provides.push('uipage_onload');}if(ba){if('content' in ba.content&&this._canvas_id!==null){if(this._append)ba.append=this._canvas_id;var ca=ba.content.content;delete ba.content.content;ba.content[this._canvas_id]=ca;}if(ba.secondFlushResources){this.pipe.setSecondFlushResources(ba.secondFlushResources);}else this.pipe.onPageletArrive(ba);}if(aa.is_last)y(this._canvas_id,this._constHeight);return i.suppressOnloadToken;};z.prototype.setNectarModuleDataSafe=function(aa){'use strict';this._request.setNectarModuleDataSafe(aa);return this;};z.prototype.setFinallyHandler=function(aa){'use strict';this._request.setFinallyHandler(aa);return this;};z.prototype.setErrorHandler=function(aa){'use strict';this._request.setErrorHandler(aa);return this;};z.prototype.setTransportErrorHandler=function(aa){'use strict';this._request.setTransportErrorHandler(aa);return this;};z.prototype.abort=function(){'use strict';this._request.abort();if(v==this._request)v=null;this._request=null;return this;};z.prototype.setJSNonBlock=function(aa){'use strict';this._jsNonBlock=aa;return this;};z.prototype.setAutomatic=function(aa){'use strict';this._automatic=aa;return this;};z.prototype.setDisplayCallback=function(aa){'use strict';this._displayCallback=aa;return this;};z.prototype.setConstHeight=function(aa){'use strict';this._constHeight=aa;return this;};z.prototype.setAllowIrrelevantRequests=function(aa){'use strict';this._allowIrrelevantRequests=aa;return this;};z.prototype.getAsyncRequest=function(){'use strict';return this._request;};z.getCurrentRequest=function(){'use strict';return v;};z.setCurrentRequest=function(aa){'use strict';v=aa;};f.exports=z;},null);
__d("CSSClassTransition",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=[];function i(){}Object.assign(i,{go:function(j,k,l,m){var n;for(var o=0;o<h.length;o++)if(h[o](j,k,l,m)===true)n=true;if(!n)j.className=k;},registerHandler:function(j){h.push(j);return {remove:function(){var k=h.indexOf(j);if(k>=0)h.splice(k,1);}};}});f.exports=i;},null);
__d('DocumentTitle',['Arbiter'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=document.title,j=null,k=1500,l=[],m=0,n=null,o=false;function p(){if(l.length>0){if(!o){q(l[m].title);m=++m%l.length;}else r();}else{clearInterval(n);n=null;r();}}function q(t){document.title=t;o=true;}function r(){s.set(j||i,true);o=false;}var s={get:function(){return i;},set:function(t,u){document.title=t;if(!u){i=t;j=null;h.inform('update_title',t);}else j=t;},blink:function(t){var u={title:t};l.push(u);if(n===null)n=setInterval(p,k);return {stop:function(){var v=l.indexOf(u);if(v>=0){l.splice(v,1);if(m>v){m--;}else if(m==v&&m==l.length)m=0;}}};}};f.exports=s;},null);
__d('FBID',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={isUser:function(i){return i<2.2e+09||i>=1e+14&&i<=100099999989999||i>=8.9e+13&&i<=89999999999999||i>=6.000001e+13&&i<=60000019999999;}};f.exports=h;},null);
__d('reportData',['Banzai','SessionName'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={retry:true};function k(l,m){m=m||{};var n={ft:m.ft||{},gt:m.gt||{}},o='-',p=[],q='r',r=[Date.now(),0,o,l,o,o,q,b.URI?b.URI.getRequestURI(true,true).getUnqualifiedURI().toString():location.pathname+location.search+location.hash,n,0,0,0,0].concat(p),s=[i.getName(),Date.now(),'act'];h.post('eagle_eye_event',Array.prototype.concat(s,r),j);}f.exports=k;},null);
__d("UIPageletContentCache",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={cache:{},getContent:function(i){if(i in this.cache)return this.cache[i];return null;},setContent:function(i,j){this.cache[i]=j;}};f.exports=h;},null);
__d('UIPagelet',['ActorURI','AjaxPipeRequest','AsyncRequest','DOM','HTML','ScriptPathState','UIPageletContentCache','URI','emptyFunction','ge','isElementNode'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();function s(t,u,v){'use strict';var w=t&&r(t)?t.id:t;this._id=w||null;this._element=q(t||k.create('div'));this._src=u||null;this._context_data=v||{};this._data={};this._handler=p;this._request=null;this._use_ajaxpipe=false;this._use_post_request=false;this._is_bundle=true;this._allow_cross_page_transition=false;this._append=false;this._cache_content=false;this._content_cache_key='';}s.prototype.getElement=function(){'use strict';return this._element;};s.prototype.setHandler=function(t){'use strict';this._handler=t;return this;};s.prototype.go=function(t,u){'use strict';if(arguments.length>=2||typeof t=='string'){this._src=t;this._data=u||{};}else if(arguments.length==1)this._data=t;this.refresh();return this;};s.prototype.setAllowCrossPageTransition=function(t){'use strict';this._allow_cross_page_transition=t;return this;};s.prototype.setBundleOption=function(t){'use strict';this._is_bundle=t;return this;};s.prototype.setErrorHandler=function(t){'use strict';this._errorHandler=t;return this;};s.prototype.setTransportErrorHandler=function(t){'use strict';this.transportErrorHandler=t;return this;};s.prototype.refresh=function(){'use strict';if(this._use_ajaxpipe){m.setIsUIPageletRequest(true);this._request=new i();this._request.setCanvasId(this._id).setAppend(this._append).setConstHeight(this._constHeight).setJSNonBlock(this._jsNonblock).setAutomatic(this._automatic).setDisplayCallback(this._displayCallback).setFinallyHandler(this._finallyHandler).setAllowIrrelevantRequests(this._allowIrrelevantRequests);if(this._errorHandler)this._request.setErrorHandler(this._errorHandler);if(this.transportErrorHandler)this._request.setTransportErrorHandler(this.transportErrorHandler);}else{if(this._cache_content){var t=n.getContent(this._content_cache_key);if(t!==null){this.handleContent(t);return this;}}var u=(function(y){this._request=null;var z=l(y.getPayload());this.handleContent(z);if(this._cache_content)n.setContent(this._content_cache_key,z);}).bind(this),v=this._displayCallback,w=this._finallyHandler;this._request=new j().setMethod('GET').setReadOnly(true).setOption('bundle',this._is_bundle).setHandler(function(y){if(v){v(u.bind(null,y));}else u(y);w&&w();});if(this._errorHandler)this._request.setErrorHandler(this._errorHandler);if(this.transportErrorHandler)this._request.setTransportErrorHandler(this.transportErrorHandler);if(this._use_post_request)this._request.setMethod('POST');}var x=babelHelpers._extends({},this._context_data,this._data);if(this._actorID)x[h.PARAMETER_ACTOR]=this._actorID;this._request.setURI(this._src).setAllowCrossPageTransition(this._allow_cross_page_transition).setData({data:JSON.stringify(x)}).send();return this;};s.prototype.handleContent=function(t){'use strict';if(this._append){k.appendContent(this._element,t);}else k.setContent(this._element,t);this._handler();};s.prototype.cancel=function(){'use strict';if(this._request)this._request.abort();};s.prototype.setUseAjaxPipe=function(t){'use strict';this._use_ajaxpipe=!!t;return this;};s.prototype.setUsePostRequest=function(t){'use strict';this._use_post_request=!!t;return this;};s.prototype.setAppend=function(t){'use strict';this._append=!!t;return this;};s.prototype.setJSNonBlock=function(t){'use strict';this._jsNonblock=!!t;return this;};s.prototype.setAutomatic=function(t){'use strict';this._automatic=!!t;return this;};s.prototype.setDisplayCallback=function(t){'use strict';this._displayCallback=t;return this;};s.prototype.setConstHeight=function(t){'use strict';this._constHeight=!!t;return this;};s.prototype.setFinallyHandler=function(t){'use strict';this._finallyHandler=t;return this;};s.prototype.setAllowIrrelevantRequests=function(t){'use strict';this._allowIrrelevantRequests=t;return this;};s.prototype.setActorID=function(t){'use strict';this._actorID=t;return this;};s.prototype.setCacheContent=function(t){'use strict';this._cache_content=t;return this;};s.prototype.setContentCacheKey=function(t){'use strict';this._content_cache_key=t;return this;};s.appendToInline=function(t,u){'use strict';var v=q(t),w=q(u);if(v&&w){while(w.firstChild)k.appendContent(v,w.firstChild);k.remove(w);}};s.loadFromEndpoint=function(t,u,v,w){'use strict';w=w||{};var x='/ajax/pagelet/generic.php/'+t;if(w.intern)x='/intern'+x;var y=new o(x.replace(/\/+/g,'/'));if(w.subdomain)y.setSubdomain(w.subdomain);var z=false,aa='';if(w.contentCacheKey){z=true;aa=t+','+String(w.contentCacheKey);}var ba=new s(u,y,v).setUseAjaxPipe(w.usePipe).setBundleOption(w.bundle!==false).setAppend(w.append).setJSNonBlock(w.jsNonblock).setAutomatic(w.automatic).setDisplayCallback(w.displayCallback).setConstHeight(w.constHeight).setAllowCrossPageTransition(w.crossPage).setFinallyHandler(w.finallyHandler||p).setErrorHandler(w.errorHandler).setTransportErrorHandler(w.transportErrorHandler).setAllowIrrelevantRequests(w.allowIrrelevantRequests).setActorID(w.actorID).setCacheContent(z).setContentCacheKey(aa).setUsePostRequest(w.usePostRequest);w.handler&&ba.setHandler(w.handler);ba.go();return ba;};s.loadFromEndpointBatched=function(t,u,v){'use strict';var w=t.slice(0,v),x=t.slice(v);if(x.length>0){var y=w[w.length-1],z=p;if(y.options&&y.options.finallyHandler)z=y.options.finallyHandler;y.options=babelHelpers._extends({},y.options,{finallyHandler:function(){z();window.setTimeout(function(){s.loadFromEndpointBatched(x,u,v);},1);}});}w.forEach(function(aa){s.loadFromEndpoint(aa.controller,aa.target_element,aa.data,babelHelpers._extends({},aa.options,u,{bundle:true}));});};f.exports=s;},null);
__d('XUIBadge',['CSS','DOM','cx','invariant'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();function l(n){return parseInt(n,10)===n;}function m(n){'use strict';this.target=n.target;this.count=n.count;this.maxcount=n.maxcount;}m.prototype.getCount=function(){'use strict';return this.count;};m.prototype.setCount=function(n){'use strict';!l(n)?k(0):undefined;!(n>=0)?k(0):undefined;this.count=n;h.conditionClass(this.target,'hidden_elem',this.count===0);if(n>this.maxcount){i.setContent(this.target,this.maxcount+'+');h.addClass(this.target,"_5ugi");}else{i.setContent(this.target,n);h.removeClass(this.target,"_5ugi");}};m.prototype.setLegacyContent=function(n){'use strict';if(typeof n==='string'){h.conditionClass(this.target,'hidden_elem',n==0);i.setContent(this.target,n);h.removeClass(this.target,"_5ugi");}else this.setCount(n);};m.prototype.increment=function(){'use strict';this.setCount(this.getCount()+1);};f.exports=m;},null);