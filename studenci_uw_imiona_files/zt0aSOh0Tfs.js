/*!CK:337185327!*//*1446670289,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["CphJ0"]); }

__d("XAYMTPanelSaveSettingsController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ads\/growth\/aymt\/homepage_panel\/save_settings\/",{time_range:{type:"Enum",enumType:1},ad_account_id:{type:"Int"},promoted_object:{type:"Int"},collapsed:{type:"Int"},dismiss_nux:{type:"Bool",defaultValue:false},flash_insights_dismiss_nux:{type:"Bool",defaultValue:false},refresh_panel:{type:"Bool",defaultValue:false}});},null,{});
__d('AdvertiserHomePagelet',['AsyncRequest','DOM','URI','XAYMTPanelSaveSettingsController','$'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m={init:function(n,o){var p=k.getURIBuilder().setBool('refresh_panel',true).getURI();p.addQueryData(j.getRequestURI().getQueryData());new h().setURI(p).setStatusElement(o).setErrorHandler(function(q){i.setContent(l('pagelet_advertiser_panel'),'');}).send();}};f.exports=m;},null);
__d('LeftNavItemClassicDraggableContainer.react',['React','ReactDOM'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=h.PropTypes,k=h.createClass({displayName:'LeftNavItemClassicDraggableContainer',propTypes:{itemID:j.oneOfType([j.string,j.number]).isRequired,section:j.object.isRequired,draggableBound:j.object,ItemDraggableBehavior:j.func},render:function(){return (h.createElement('div',{'data-itemid':this.props.itemID},this.props.children));},componentDidMount:function(){var l=this.props,m=l.section,n=l.itemID,o=l.draggableBound,p=l.ItemDraggableBehavior;if(p&&!this.draggable)this.draggable=new p(i.findDOMNode(this),m,n,o);},componentWillUnmount:function(){this.draggable.destroy();this.draggable=null;}});f.exports=k;},null);
__d('LeftNavItem.react',['Arbiter','BootloadedComponent.react','DOMContainer.react','Image.react','LeftNavItemClassicDraggableContainer.react','Link.react','JSResource','PagesHighlanderGating','React','URI','XUIButton.react','XUISpinner.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v,w;'use strict';var x=p.createElement('span',{className:"_upa"}),y=p.createElement(s,{className:'uiSideNavSpinner'});v=babelHelpers.inherits(z,p.Component);w=v&&v.prototype;function z(aa){w.constructor.call(this,aa);this.state=this.$LeftNavItem1(aa);this.state.hasUsedPopoverMenu=false;this.state.showPopoverOnMount=false;}z.prototype.componentWillReceiveProps=function(aa){var ba=this.$LeftNavItem1(aa);if(aa.inEditMode)ba.showPopoverOnMount=false;this.setState(ba);};z.prototype.$LeftNavItem1=function(aa){var ba=aa.model,ca=aa.section.props.id,da=ba.count>0,ea=ca==='pinnedNav'&&ba.sortable&&!ba.suggestedInFav,fa=ca==='bookmarksSeeAllEntSection',ga=ba.keys.some(function(ja){return ja===aa.selectedKey;}),ha=ba.keys.some(function(ja){return ja===aa.loadingKey;}),ia=ea&&aa.inEditMode;return {hasCount:da,hasSortableItems:ea,inSeeAllSection:fa,isSelected:ga,isLoading:ha,isSorting:ia};};z.prototype.render=function(){var aa=this.props.model,ba=this.state;return (p.createElement('li',{className:"clearfix"+(' '+"sideNavItem")+(' '+"stat_elem")+(ba.isSelected?' '+"selectedItem":'')+(ba.isLoading?' '+"_5afd":''),'data-sortable':ba.isSorting?aa.sortable:null,id:'navItem_'+aa.id},this.$LeftNavItem2(this.$LeftNavItem3())));};z.prototype.$LeftNavItem3=function(){var aa=this.props.model,ba=this.props.section,ca=this.state,da=p.createElement('a',{key:'link','data-testid':'left_nav_item_'+aa.link.title,className:"_5afe"+(ca.hasSortableItems?' '+"sortableItem":''),'data-gt':aa.datagt,title:aa.link.title,rel:aa.link.rel,href:aa.link.href,ajaxify:aa.link.ajaxify,draggable:'false',onClick:(function(){return this.$LeftNavItem4(aa);}).bind(this)},this.$LeftNavItem5(aa),this.$LeftNavItem6(aa.image),p.createElement('div',{className:(!this.props.suggestedIcon?"linkWrap":'')+(ca.hasCount?' '+"hasCount":'')+(!ca.hasCount?' '+"noCount":'')},p.createElement('span',{className:this.props.suggestedIcon?"suggestedWrap":''},aa.name),this.props.suggestedIcon,ca.inSeeAllSection?this.$LeftNavItem7(aa.count):null));return [aa.auxcontent?p.createElement(j,{key:'auxpopover'},aa.auxcontent):null,this.$LeftNavItem8(aa,ba,this.props.loadDragDropModules,this.state.hasUsedPopoverMenu),this.$LeftNavItem9(da,aa)];};z.prototype.$LeftNavItem8=function(aa,ba,ca,da){if(!aa.editmenu)return null;var ea=(function(){this.setState({hasUsedPopoverMenu:true,showPopoverOnMount:true});ca&&ca();}).bind(this),fa=u._("Edit {Link name} link",[u.param('Link name',aa.name)]),ga=p.createElement(m,{href:'#',title:fa,'aria-label':fa,onClick:da?null:ea,className:"_1wc5 _26tg accessible_elem"});if(da)ga=p.createElement(i,{bootloadPlaceholder:ga,bootloadLoader:n('BookmarkPopoverMenu.react'),module:'BookmarkPopoverMenu.react',navSection:ba,model:aa,showOnMount:this.state.showPopoverOnMount},ga);var ha=this.state.inSeeAllSection?'bookmark_edit_button_see_all':'bookmark_edit_button';return (p.createElement('div',{className:'buttonWrap','data-testid':ha,key:'popover'},p.createElement('div',{className:'uiSideNavEditButton'},ga)));};z.prototype.$LeftNavItem6=function(aa){return (p.createElement('span',{className:'imgWrap','data-testid':'bookmark_icon_'+(this.state.inSeeAllSection?'see_all':'left_nav')},p.createElement(k,{src:aa,height:'16',width:'16',draggable:'false',alt:''})));};z.prototype.$LeftNavItem7=function(aa){if(!this.state.hasCount)return null;return (p.createElement('span',{className:"countValue"+(' '+"_5aff")},aa<=20?aa:'20+'));};z.prototype.$LeftNavItem5=function(aa){var ba=this.state;if(ba.inSeeAllSection)return null;var ca=ba.hasCount&&!ba.isSorting;if(ba.isLoading||ca||ba.isSorting)return (p.createElement('div',{className:'rfloat'},ba.isLoading?y:null,ca?this.$LeftNavItem7(aa.count):null,ba.isSorting?x:null));return null;};z.prototype.$LeftNavItem10=function(aa){if(aa.type!=='type_page'||o.isHighlanderDeprecated)return null;var ba=new q(aa.link.href),ca=new q('?ref=hl');ca.setDomain(ba.getDomain());ca.setProtocol(ba.getProtocol());ca.setPath(ba.getPath());return (p.createElement('form',{action:'/menu/identity_switch',method:'post',rel:'async'},p.createElement('input',{type:'hidden',name:'user_id',value:aa.id}),p.createElement('input',{type:'hidden',name:'url',value:ca.toString()}),p.createElement(r,{className:"_85u",use:'confirm',label:u._("Log in")})));};z.prototype.$LeftNavItem2=function(aa){if(!this.state.isSorting)return aa;return (p.createElement(l,{itemID:this.props.model.id,section:this.props.section,draggableBound:this.props.draggableBound,ItemDraggableBehavior:this.props.ItemDraggableBehavior},aa));};z.prototype.$LeftNavItem9=function(aa,ba){var ca=null;if(this.state.inSeeAllSection)ca=this.$LeftNavItem10(ba);if(!ca)return aa;return (p.createElement('div',{key:'link',className:'clearfix'},aa,ca));};z.prototype.$LeftNavItem4=function(aa){h.inform('LeftNavController/setItemCount',{item:aa,count:0});if(aa&&aa.type==='type_explore_feed')h.inform('LeftNavController/topicFeedClick',aa.id);};f.exports=z;},null);
__d('LeftNavItemPlaceholder.react',['React','cx'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=h.createClass({displayName:'LeftNavItemPlaceholder',render:function(){return (h.createElement('li',{className:'sideNavItem stat_elem'},h.createElement('a',{className:"_5afe clearfix sortableItem"})));}});f.exports=j;},null);
__d('LeftNavSection.react',['Arbiter','Bootloader','Image.react','InlineBlock.react','LeftNavItem.react','LeftNavItemPlaceholder.react','LeftRight.react','Link.react','React','ReactDOM','Tooltip.react','cx','ix','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){'use strict';if(c.__markCompiled)c.__markCompiled();var v='more',w=p.createClass({displayName:'LeftNavSection',getInitialState:function(){return {inEditMode:false,draggableBound:null,placeholderIdx:-1,isCollapsed:true};},render:function(){var x=this,y=this.props,z=y.ItemDraggableBehavior,aa=y.loadingKey,ba=y.loadDragDropModules,ca=y.model,da=y.selectedKey,ea=ca.items,fa=this.state,ga=fa.inEditMode,ha=fa.draggableBound;if(ea.length===0)return null;var ia=ea.map(function(ma){ma.datagt=this._getDataGT('item',this.props,ma.datagt);return (p.createElement(l,{key:ma.id,model:ma,section:x,selectedKey:da,loadingKey:aa,inEditMode:ga,draggableBound:ha,loadDragDropModules:ba,ItemDraggableBehavior:z,suggestedIcon:ma.suggestedInFav?this._getSuggestedIconWithTooltip():null}));},this);if(this.state.placeholderIdx>=0)ia.splice(this.state.placeholderIdx,0,p.createElement(m,{key:'itemplaceholder',ref:'placeholder'}));var ja="_bui"+(this._isPinnedSection()?' '+"droppableNav":'')+(!this._isPinnedSection()?' '+"nonDroppableNav":'')+(' '+"_3-8w")+(!ga?' '+"_3-96":''),ka=this._isPinnedSection()?p.createElement('div',{className:"_3hge _3hgf"},p.createElement(o,{className:'navEditDone',ref:'Donelink',onClick:function(){i.loadModules(["LeftNavDragController"],function(){h.inform('LeftNavDragController/toggleEditMode',{section:x});});}},u._("Done"))):null,la=this._getDataGT(v,this.props);return (p.createElement('div',{id:this.props.id,className:"homeSideNav",'data-ft':ca.dataft,'data-testid':'left_nav_section_'+(ca.title||'FAVORITES'),ref:'sectionBody'},this._renderHeader(la),p.createElement('ul',{className:ja,'data-ft':ca.dataft},ia),ka));},componentDidUpdate:function(x,y){if(this.state.inEditMode)q.findDOMNode(this.refs.Donelink).focus();},_renderHeader:function(x){var y=this.props.model,z;if(y.title){var aa=y.seeallhref?p.createElement(o,{href:y.seeallhref,'data-gt':x},p.createElement(n,null,p.createElement('span',{className:'sectionDragHandle'},y.title),y.remainingcount?p.createElement(k,{className:"_3-91"},p.createElement('div',{className:"_1cwg _5ol3"},y.seealltext)):null)):p.createElement('span',{className:'sectionDragHandle'},y.title);z=p.createElement('h4',{className:'navHeader'},aa);}else z=null;return z;},_isPinnedSection:function(){return this.props.id==='pinnedNav';},_isSuggestedSection:function(){return this.props.id==='suggestedNav';},_getSuggestedIcon:function(){return p.createElement(j,{alt:'suggested',className:"_hx7",src:t('/images/icons/friendlists/bolt.png')});},_getSuggestedIconWithTooltip:function(){var x=u._("Suggested based on your history");return p.createElement(r,{tooltip:x},this._getSuggestedIcon());},_getDataGT:function(x,y,z){var aa=y.id,ba=y.model,ca=y.total;z=z?JSON.parse(z):{};if(aa!=='bookmarksSeeAllEntSection'){z.masher=x.toString();z.total=ca.toString();}if(x===v){z.nav_section=ba.id;z.nav_items_count=ba.items?ba.items.length:0;z.remaining_count=ba.remainingcount;}z=JSON.stringify(z);return z;}});f.exports=w;},null);
__d('LeftNavSectionPlaceholder.react',['React','cx'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=h.createClass({displayName:'LeftNavSectionPlaceholder',render:function(){var k={height:this.props.height+'px',width:this.props.width+'px'};return (h.createElement('div',{className:'homeSideNav',style:k},h.createElement('ul',{className:"_bui"})));}});f.exports=j;},null);
__d('LeftNavContainer.react',['Arbiter','AsyncRequest','Bootloader','BootloadedComponent.react','Image.react','JSResource','LeftNavSection.react','LeftNavSectionPlaceholder.react','Link.react','React','ReactLayeredComponentMixin','XFeedNUXSaveSeenStateController','emptyFunction','invariant','cx','ix','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){'use strict';if(c.__markCompiled)c.__markCompiled();function y(aa){aa.setState({loadDragDropModules:t});j.loadModules(["LeftNavDragController","LeftNavItemDraggableBehavior"],function(ba,ca){ba.subscribe();aa.setState({DragController:ba,ItemDraggableBehavior:ca});});}var z=q.createClass({displayName:'LeftNavContainer',mixins:[r],getInitialState:function(){return {placeholderIdx:-1,placeholderWidth:0,placeholderHeight:0,loadDragDropModules:(function(){return y(this);}).bind(this),DragController:null,ItemDraggableBehavior:null,topicFeedsNuxShown:false};},componentDidMount:function(){var aa=this.state.DragController;if(aa)aa.subscribe();if(this.props.config.ShowTopicFeedNux)this.setState({topicFeedsNuxShown:true},(function(){h.subscribe('LeftNavController/topicFeedClick',(function(){return this.setState({topicFeedsNuxShown:false});}).bind(this));var ba=s.getURIBuilder().setString('key','topic_feed_bookmarks').setBool('seen',true).getURI();new i(ba).setMethod('POST').send();setTimeout((function(){return this.setState({topicFeedsNuxShown:false});}).bind(this),10000);}).bind(this));},componentWillUnmount:function(){var aa=this.state.DragController;if(aa)aa.unsubscribe();},renderLayers:function(){if(!this.props.config.ShowTopicFeedNux||!this.refs)return null;return (q.createElement(k,{bootloadPlaceholder:q.createElement('span',null),bootloadLoader:m('XUIAmbientNUX.react'),contextRef:(function(){return this.refs.topicFeedsNav;}).bind(this),customwidth:250,hasActionableContext:true,onCloseButtonClick:(function(){return this.setState({topicFeedsNuxShown:false});}).bind(this),position:'below',shown:this.state.topicFeedsNuxShown,width:'custom'},x._("Explore the interests that matter to you by selecting a topic.")));},render:function(){var aa=this.props.model,ba=q.createElement(n,{selectedKey:aa.selectedKey,loadingKey:aa.loadingKey,model:aa.pinnedSection,key:'pinnedNav',id:'pinnedNav',ref:'pinnedNav',loadDragDropModules:this.state.loadDragDropModules,ItemDraggableBehavior:this.state.ItemDraggableBehavior,total:aa.total}),ca=aa.sections.map((function(ea){return (q.createElement(n,{selectedKey:aa.selectedKey,loadingKey:aa.loadingKey,model:ea,key:ea.id,id:ea.id,loadDragDropModules:this.state.loadDragDropModules,ItemDraggableBehavior:this.state.ItemDraggableBehavior,ref:ea.id==='topicFeedsNav'?'topicFeedsNav':null,total:aa.total}));}).bind(this)),da;if(aa.suggestedSection)da=q.createElement(n,{selectedKey:aa.selectedKey,loadingKey:aa.loadingKey,model:aa.suggestedSection,key:'suggestedNav',id:'suggestedNav',ref:'suggestedNav',loadDragDropModules:this.state.loadDragDropModules,ItemDraggableBehavior:this.state.ItemDraggableBehavior,total:aa.total});if(this.state.placeholderIdx>-1)ca.splice(this.state.placeholderIdx,0,q.createElement(o,{key:'placeholder',width:this.state.placeholderWidth,height:this.state.placeholderHeight}));return (q.createElement('div',null,ba,da,ca));},getPinnedSection:function(){var aa=this.refs.pinnedNav;!aa?u(0):undefined;return aa;}});f.exports=z;},null);
__d('LeftNavModel',['URI'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i,j=null,k={init:function(l){i=l;},initAdditionalItems:function(l){j=l.items;},setSelectedKey:function(l){i.loadingKey=null;i.selectedKey=l||i.defaultKey;},setLoadingKey:function(l){i.loadingKey=l;},setItemCount:function(l,m){l.count=m;},updateItemCounts:function(l,m){m.forEach(function(n){var o=k.findItemByKey(n.key);if(o)if(n.count!==undefined){o.count=n.count;}else if(n.increment!==undefined)o.count+=n.increment;});},findItemByKey:function(l){return k.findItem(function(m){return m.keys.some(function(n){return n===l;});});},findItem:function(l){var m;if(i.pinnedSection){m=i.pinnedSection.items.find(l);if(m)return m;}if(i.suggestedSection){m=i.suggestedSection.items.find(l);if(m)return m;}if(i.pinnedSection.default_count>0){m=k._findItemInFlyout(l);if(m)return m;}for(var n=0;n<i.sections.length;n++){m=i.sections[n].items.find(l);if(m)return m;}if(j){m=j.find(l);if(m)return m;}return null;},findItemByURI:function(l){var m=l.getQueryData().sk;if(m){return k.findItemByKey(m);}else if(k._isHomePath(l)){return k.findItemByKey(i.defaultKey);}else return k.findItem(function(n){return n.path&&n.path.some(function(o){if(typeof o==='object'&&o.regex)return l.getPath().match(o.regex);return o===l.getPath();});});},_isHomePath:function(l){var m=h.getRequestURI();return (l.getDomain()===m.getDomain()&&(l.getPath()==='/'||l.getPath()==='/home.php'));},_findItemInFlyout:function(l){var m;i.pinnedSection.items.some(function(n){if(n&&n.flyout_items){m=n.flyout_items.find(l);if(m)return true;}return false;});return m;}};f.exports=k;},null);
__d("XFeedTopicRefreshLoadTimeController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/feed\/topic\/refresh\/loadtime\/",{});},null,{});
__d('LeftNavController',['Arbiter','AsyncRequest','Bootloader','ChannelConstants','LeftNavConfig','LeftNavModel','NavigationMessage','React','ReactDOM','Run','SubscriptionsHandler','XFeedTopicRefreshLoadTimeController','XBookmarkHoverCountSeenController','CSS','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){'use strict';if(c.__markCompiled)c.__markCompiled();var w,x,y,z=null,aa,ba={init:function(ja,ka){x=ja;m.init(ka);var la=function(oa){j.loadModules(["LeftNavActions"],function(pa){pa.initModel(ka);oa(pa);ca();});};y=new r();y.addSubscriptions(h.subscribe('LeftNavController/toggleFavorite',function(oa,pa){return la(function(qa){return (qa.toggleFavorite(oa,pa,z));});}),h.subscribe('LeftNavController/keepInFavorite',function(oa,pa){return la(function(qa){return (qa.keepInFavorite(oa,pa));});}),h.subscribe('LeftNavController/updatePinnedSection',function(oa,pa){var qa=pa.idOrder;return la(function(ra){return (ra.updatePinnedSection(oa,qa));});}),h.subscribe('LeftNavController/setItemCount',function(oa,pa){var qa=pa.item,ra=pa.count;m.setItemCount(qa,ra);ca();if(l.ShowDotNotif)ia(qa.id,ra);}),h.subscribe('LeftNavController/topicFeedClick',function(oa,pa){new i(s.getURIBuilder().getURI()).setData({topic_id:pa}).setMethod('POST').send();}),h.subscribe(k.getArbiterType('nav_update_counts'),function(oa,pa){var qa=pa.obj.items;m.updateItemCounts(oa,qa);ca();}),h.subscribeOnce('AsyncLayout/initialized',function(){return aa=true;}),h.subscribe(n.NAVIGATION_ITEM_REMOVED,function(oa,pa){return la(function(qa){return (qa.removeItemByKey(oa,pa));});}),h.subscribe(n.NAVIGATION_COMPLETED,function(){m.setSelectedKey(ka.loadingKey);ca();}),h.subscribe(n.NAVIGATION_FAILED,function(){m.setLoadingKey(null);ca();}),h.subscribe(n.NAVIGATION_COUNT_UPDATE,function(oa,pa){var qa=m.findItemByKey(pa&&pa.key);if(qa){m.setItemCount(qa,pa.hide?0:qa.count+pa.count);ca();}}),h.subscribe(n.NAVIGATION_SELECT,function(oa,pa){var qa=pa.sk;if(pa.asLoading){m.setLoadingKey(qa);}else m.setSelectedKey(qa);}),h.subscribe('LeftNavDragController/toggleEditMode',function(){return u.toggleClass(x,"_2ryg");}),h.subscribe('LeftNavController/updateFoldPinnedSection',function(oa,pa){var qa=pa.idOrder;return la(function(ra){return (ra.updateFoldPinnedSection(oa,qa));});}));var ma=m.findItemByKey(ka.selectedKey);if(ma)ma.count=0;var na=l.Container;w=p.render(o.createElement(na,{model:ka,config:l}),x);q.onLeave(this.uninstall.bind(this));},uninstall:function(){aa=false;y.release();if(w.componentWillUnmount)w.componentWillUnmount();},initAdditionalItems:function(ja){m.initAdditionalItems(ja);},initPageTransitions:function(ja){ja.registerHandler(function(ka){return aa&&da(ka);},6);},mountSeeAllPayload:function(ja){z=ja;}};function ca(){w.forceUpdate();}function da(ja){var ka=m.findItemByURI(ja);return ka&&ka.endpoint&&ea(ka,ja);}function ea(ja,ka){m.setLoadingKey(ja.keys[0]);m.setItemCount(ja,0);ca();ga(ja.endpoint,babelHelpers._extends({},fa(ja,ka),ka.getQueryData()));return true;}function fa(ja,ka){var la={};la.sidecol=true;la.path=ka.getPath();var ma=ha(ja.keys);ma=ma.text?ma.text:ma.numeric;la.sk=ma;la.key=ma;return la;}function ga(ja,ka){ka.endpoint=ja;h.inform(n.NAVIGATION_BEGIN,{useAjaxPipe:true,params:ka});}function ha(ja){var ka=/^(app|group|fl)_/,la={};for(var ma=0;ma<ja.length;ma++){var na=ka.test(ja[ma]);if(na&&!la.numeric){la.numeric=ja[ma];}else if(!na&&!la.text)la.text=ja[ma];if(la.numeric&&la.text)break;}return la;}function ia(ja,ka){var la=t.getURIBuilder().getURI();new i().setMethod('POST').setData({counts:{id:ja,count:ka}}).setURI(la).send();}f.exports=ba;},null);